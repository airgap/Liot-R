var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var d=a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};var r=require("rethinkdb");
module.exports=function(a,d,e,h,b){if(Array.isArray(b.collators)){var k=[];e=$jscomp.makeIterator(b.collators);for(b=e.next();!b.done;b=e.next()){var c=b.value;b={};"string"===typeof c.id&&(b.id=c.id);"string"===typeof c.name&&c.name.length&&(b.name=c.name);if(Array.isArray(c.filters))for(var g=[],c=$jscomp.makeIterator(c.filters),f=c.next();!f.done;f=c.next())f=f.value,"string"===typeof f&&-1==g.indexOf(f)&&g.push(f);b.filters=g;k.push(b)}}r.table("Collators").insert(k,{conflict:"replace"}).run(d,
function(b,c){b?(h.send({err:"Unable to create collators."}),a&&console.log(b)):(h.send({}),a&&console.log("Created collators."))})};
