var r=require("rethinkdb");
module.exports=function(e,f,c,g,a){var b=0,h=100;c=["smart","name","id"];var d="smart",l=["ascending","descending"],k="ascending";"number"==typeof a.after&&(b=a.after);"number"==typeof a.count&&0<=a.count&&1001>a.count&&(h=a.count);"string"===typeof a.order&&a.order in c&&(d=c[a.order]);"string"===typeof a.direction&&a.direction in l&&(k=a.direction);"descending"==k&&(d=r.desc(d));r.table("Collectors").count().run(f,function(a,c){a||(0>b&&(b+=c),b=Math.max(0,b),r.table("Collectors").orderBy(d).slice(b,b+
h).coerceTo("array").run(f,function(a,b){a?(g.send({err:"Unable to query."}),e&&console.log(a)):(g.send({collectors:b}),e&&console.log("Queried collectors."),e&&console.log(b))}))})};
