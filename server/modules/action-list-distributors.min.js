exports=function(c,e,a){var b=0,f=100;c=["smart","name","id"];var d="smart",h=["ascending","descending"],g="ascending";"number"==typeof a.after&&(b=a.after);"number"==typeof a.count&&0<=a.count&&1001>a.count&&(f=a.count);"string"===typeof a.order&&a.order in c&&(d=c[a.order]);"string"===typeof a.direction&&a.direction in h&&(g=a.direction);"descending"==g&&(d=r.desc(d));r.table("Distributors").count().run(CONNECTION,function(a,c){a||(0>b&&(b+=c),b=Math.max(0,b),r.table("Distributors").orderBy(d).slice(b,
b+f).merge(function(a){return{collets:r.table("Collators").getAll(r.args(a("collators"))).merge(function(a){return{filtrets:r.table("Filters").getAll(r.args(a("filters"))).coerceTo("array")}}).coerceTo("array")}}).coerceTo("array").run(CONNECTION,function(a,b){a?(e.send({err:"Unable to query."}),DEBUG&&console.log(a)):(e.send({distributors:b}),DEBUG&&console.log("Queried distributors."),DEBUG&&console.log(b))}))})};
