<html>
  <head>
    <title>Liot R: Collators</title>
    <style>*,*::before,*::after{box-sizing:border-box}body{margin:0}.bonus-nav{height:50px;display:flex}.bonus-nav>a{width:auto;display:inline-block;height:100%;position:relative;cursor:pointer}.bonus-nav-icon>*{height:calc(100% - 10px);margin-top:5px;width:auto}.bonus-nav-item>div{position:relative;top:50%;transform:translateY(-50%);margin-left:10px;margin-right:10px}.bonus-nav>a::after{width:0;content:"-";font-size:0;height:5px;background:black;display:block;position:absolute;bottom:0;transition:.25s all}.bonus-nav-item:hover::after{width:100%}.bonus-footer{text-align:center;color:#AAA;line-height:50px}.bonus-container{max-width:1200px;margin-left:auto;margin-right:auto}.bonus-desktop{*display:flex;flex-wrap:wrap;text-align:center}.bonus-desktop>div,[class^=g-],[class^=xs-],[class^=s-],[class^=m-],[class^=l-],[class^=xl-]{display:inline-block;vertical-align:top;flex-shrink:0;text-align:left}.g-1{width:8.333333%}.g-2{width:16.666667%}.g-3{width:25%}.g-4{width:33.33333%}.g-5{width:41.66667%}.g-6{width:50%}.g-7{width:58.3333%}.g-8{width:66.66667%}.g-9{width:75%}.g-10{width:83.33333%}.g-11{width:91.6666%}.g-12{width:100%}.g-pull{transform:translate(-100%)}.g-push{transform:translate(100%)}.g-pull-1{left:-8.333333%}.g-pull-2{left:-16.666667%}.g-pull-3{left:-25%}.g-pull-4{left:-33.33333%}.g-pull-5{left:-41.66667%}.g-pull-6{left:-50%}.g-pull-7{left:-58.3333%}.g-pull-8{left:-66.6666%}.g-pull-9{left:-75%}.g-pull-10{left:-83.33333%}.g-pull-11{left:-91.6666%}.g-push-1{left:8.333333%}.g-push-2{left:16.666667%}.g-push-3{left:25%}.g-push-4{left:33.33333%}.g-push-5{left:41.66667%}.g-push-6{left:50%}.g-push-7{left:58.3333%}.g-push-8{left:66.6666%}.g-push-9{left:75%}.g-push-10{left:83.33333%}.g-push-11{left:91.6666%}.g-auto{width:auto;max-width:100%}@media screen and (max-width:299px){.xs-1{width:8.333333%}.xs-2{width:16.666667%}.xs-3{width:25%}.xs-4{width:33.33333%}.xs-5{width:41.66667%}.xs-6{width:50%}.xs-7{width:58.3333%}.xs-8{width:66.66667%}.xs-9{width:75%}.xs-10{width:83.33333%}.xs-11{width:91.6666%}.xs-12{width:100%}.xs-pull{transform:translate(-100%)}.xs-push{transform:translate(100%)}.xs-pull-1{left:-8.333333%}.xs-pull-2{left:-16.666667%}.xs-pull-3{left:-25%}.xs-pull-4{left:-33.33333%}.xs-pull-5{left:-41.66667%}.xs-pull-6{left:-50%}.xs-pull-7{left:-58.3333%}.xs-pull-8{left:-66.6666%}.xs-pull-9{left:-75%}.xs-pull-10{left:-83.33333%}.xs-pull-11{left:-91.6666%}.xs-push-1{left:8.333333%}.xs-push-2{left:16.666667%}.xs-push-3{left:25%}.xs-push-4{left:33.33333%}.xs-push-5{left:41.66667%}.xs-push-6{left:50%}.xs-push-7{left:58.3333%}.xs-push-8{left:66.6666%}.xs-push-9{left:75%}.xs-push-10{left:83.33333%}.xs-push-11{left:91.6666%}.xs-auto{width:auto;max-width:100%}}@media screen and (min-width:300px){.s-1{width:8.333333%}.s-2{width:16.666667%}.s-3{width:25%}.s-4{width:33.33333%}.s-5{width:41.66667%}.s-6{width:50%}.s-7{width:58.3333%}.s-8{width:66.66667%}.s-9{width:75%}.s-10{width:83.33333%}.s-11{width:91.6666%}.s-12{width:100%}.s-pull{transform:translate(-100%)}.s-push{transform:translate(100%)}.s-pull-1{left:-8.333333%}.s-pull-2{left:-16.666667%}.s-pull-3{left:-25%}.s-pull-4{left:-33.33333%}.s-pull-5{left:-41.66667%}.s-pull-6{left:-50%}.s-pull-7{left:-58.3333%}.s-pull-8{left:-66.6666%}.s-pull-9{left:-75%}.s-pull-10{left:-83.33333%}.s-pull-11{left:-91.6666%}.s-push-1{left:8.333333%}.s-push-2{left:16.666667%}.s-push-3{left:25%}.s-push-4{left:33.33333%}.s-push-5{left:41.66667%}.s-push-6{left:50%}.s-push-7{left:58.3333%}.s-push-8{left:66.6666%}.s-push-9{left:75%}.s-push-10{left:83.33333%}.s-push-11{left:91.6666%}.s-auto{width:auto;max-width:100%}}@media screen and (min-width:500px){.m-1{width:8.333333%}.m-2{width:16.666667%}.m-3{width:25%}.m-4{width:33.33333%}.m-5{width:41.66667%}.m-6{width:50%}.m-7{width:58.3333%}.m-8{width:66.66667%}.m-9{width:75%}.m-10{width:83.33333%}.m-11{width:91.6666%}.m-12{width:100%}.m-pull{transform:translate(-100%)}.m-push{transform:translate(100%)}.m-pull-1{left:-8.333333%}.m-pull-2{left:-16.666667%}.m-pull-3{left:-25%}.m-pull-4{left:-33.33333%}.m-pull-5{left:-41.66667%}.m-pull-6{left:-50%}.m-pull-7{left:-58.3333%}.m-pull-8{left:-66.6666%}.m-pull-9{left:-75%}.m-pull-10{left:-83.33333%}.m-pull-11{left:-91.6666%}.m-push-1{left:8.333333%}.m-push-2{left:16.666667%}.m-push-3{left:25%}.m-push-4{left:33.33333%}.m-push-5{left:41.66667%}.m-push-6{left:50%}.m-push-7{left:58.3333%}.m-push-8{left:66.6666%}.m-push-9{left:75%}.m-push-10{left:83.33333%}.m-push-11{left:91.6666%}.m-auto{width:auto;max-width:100%}}@media screen and (min-width:700px){.l-1{width:8.333333%}.l-2{width:16.666667%}.l-3{width:25%}.l-4{width:33.33333%}.l-5{width:41.66667%}.l-6{width:50%}.l-7{width:58.3333%}.l-8{width:66.66667%}.l-9{width:75%}.l-10{width:83.33333%}.l-11{width:91.6666%}.l-12{width:100%}.l-pull{transform:translate(-100%)}.l-push{transform:translate(100%)}.l-pull-1{left:-8.333333%}.l-pull-2{left:-16.666667%}.l-pull-3{left:-25%}.l-pull-4{left:-33.33333%}.l-pull-5{left:-41.66667%}.l-pull-6{left:-50%}.l-pull-7{left:-58.3333%}.l-pull-8{left:-66.6666%}.l-pull-9{left:-75%}.l-pull-10{left:-83.33333%}.l-pull-11{left:-91.6666%}.l-push-1{left:8.333333%}.l-push-2{left:16.666667%}.l-push-3{left:25%}.l-push-4{left:33.33333%}.l-push-5{left:41.66667%}.l-push-6{left:50%}.l-push-7{left:58.3333%}.l-push-8{left:66.6666%}.l-push-9{left:75%}.l-push-10{left:83.33333%}.l-push-11{left:91.6666%}.l-auto{width:auto;max-width:100%}}@media screen and (min-width:900px){.xl-1{width:8.333333%}.xl-2{width:16.666667%}.xl-3{width:25%}.xl-4{width:33.33333%}.xl-5{width:41.66667%}.xl-6{width:50%}.xl-7{width:58.3333%}.xl-8{width:66.66667%}.xl-9{width:75%}.xl-10{width:83.33333%}.xl-11{width:91.6666%}.xl-12{width:100%}.xl-pull{transform:translate(-100%)}.xl-push{transform:translate(100%)}.xl-pull-1{left:-8.333333%}.xl-pull-2{left:-16.666667%}.xl-pull-3{left:-25%}.xl-pull-4{left:-33.33333%}.xl-pull-5{left:-41.66667%}.xl-pull-6{left:-50%}.xl-pull-7{left:-58.3333%}.xl-pull-8{left:-66.6666%}.xl-pull-9{left:-75%}.xl-pull-10{left:-83.33333%}.xl-pull-11{left:-91.6666%}.xl-push-1{left:8.333333%}.xl-push-2{left:16.666667%}.xl-push-3{left:25%}.xl-push-4{left:33.33333%}.xl-push-5{left:41.66667%}.xl-push-6{left:50%}.xl-push-7{left:58.3333%}.xl-push-8{left:66.6666%}.xl-push-9{left:75%}.xl-push-10{left:83.33333%}.xl-push-11{left:91.6666%}.xl-auto{width:auto;max-width:100%}}@media screen and (min-width:1200px){.xxl-1{width:8.333333%}.xxl-2{width:16.666667%}.xxl-3{width:25%}.xxl-4{width:33.33333%}.xxl-5{width:41.66667%}.xxl-6{width:50%}.xxl-7{width:58.3333%}.xxl-8{width:66.66667%}.xxl-9{width:75%}.xxl-10{width:83.33333%}.xxl-11{width:91.6666%}.xxl-12{width:100%}.xxl-pull{transform:translate(-100%)}.xxl-push{transform:translate(100%)}.xxl-pull-1{left:-8.333333%}.xxl-pull-2{left:-16.666667%}.xxl-pull-3{left:-25%}.xxl-pull-4{left:-33.33333%}.xxl-pull-5{left:-41.66667%}.xxl-pull-6{left:-50%}.xxl-pull-7{left:-58.3333%}.xxl-pull-8{left:-66.6666%}.xxl-pull-9{left:-75%}.xxl-pull-10{left:-83.33333%}.xxl-pull-11{left:-91.6666%}.xxl-push-1{left:8.333333%}.xxl-push-2{left:16.666667%}.xxl-push-3{left:25%}.xxl-push-4{left:33.33333%}.xxl-push-5{left:41.66667%}.xxl-push-6{left:50%}.xxl-push-7{left:58.3333%}.xxl-push-8{left:66.6666%}.xxl-push-9{left:75%}.xxl-push-10{left:83.33333%}.xxl-push-11{left:91.6666%}.xxl-auto{width:auto;max-width:100%}}@media screen and (min-width:1500px){.xxxl-1{width:8.333333%}.xxxl-2{width:16.666667%}.xxxl-3{width:25%}.xxxl-4{width:33.33333%}.xxxl-5{width:41.66667%}.xxxl-6{width:50%}.xxxl-7{width:58.3333%}.xxxl-8{width:66.66667%}.xxxl-9{width:75%}.xxxl-10{width:83.33333%}.xxxl-11{width:91.6666%}.xxxl-12{width:100%}.xxxl-pull{transform:translate(-100%)}.xxxl-push{transform:translate(100%)}.xxxl-pull-1{left:-8.333333%}.xxxl-pull-2{left:-16.666667%}.xxxl-pull-3{left:-25%}.xxxl-pull-4{left:-33.33333%}.xxxl-pull-5{left:-41.66667%}.xxxl-pull-6{left:-50%}.xxxl-pull-7{left:-58.3333%}.xxxl-pull-8{left:-66.6666%}.xxxl-pull-9{left:-75%}.xxxl-pull-10{left:-83.33333%}.xxxl-pull-11{left:-91.6666%}.xxxl-push-1{left:8.333333%}.xxxl-push-2{left:16.666667%}.xxxl-push-3{left:25%}.xxxl-push-4{left:33.33333%}.xxxl-push-5{left:41.66667%}.xxxl-push-6{left:50%}.xxxl-push-7{left:58.3333%}.xxxl-push-8{left:66.6666%}.xxxl-push-9{left:75%}.xxxl-push-10{left:83.33333%}.xxxl-push-11{left:91.6666%}.xxxl-auto{width:auto;max-width:100%}}.bs-textbox,.bs-button,.bs-check{*border:1px solid rgba(0,0,0,.25);border:1px solid transparent;margin-left:auto;margin-right:auto;*width:500px;max-width:400px;position:relative;cursor:text;*box-shadow:0 0 2px 0 rgba(0,0,0,.25);border-radius:5px;*margin-top:100px;*margin-top:0;transition:.5s all;background:rgba(255,255,255,.5);overflow:hidden}.bs-textbox label,.bs-textbox input,.bs-textbox textarea{display:block;background:transparent}.bs-textbox label{position:absolute;transition:.25s all;top:12px;margin-left:10px;font-size:20px;color:grey;pointer-events:none;-webkit-user-select:none}.bs-textbox label span{font-size:inherit;*font-family:monospace;*font-size:30px;font-weight:100;*position:absolute;*background:red}.bs-textbox label span img{height:25px;margin-bottom:-4px;*margin-bottom:-2px;*margin-bottom:-3px;opacity:.5;animation:blink 1.5s infinite}.bs-textbox textarea{resize:vertical}.bs-textbox input,.bs-textbox textarea{font-size:15px;margin:15px;margin-top:20px;margin-bottom:0;margin-left:10px;outline:0;border:0;*background:red;width:calc(100% - 18px)}.bs-textbox::after{content:"-";font-size:0;display:block;width:150%;height:5px;background:red;*border:1px solid red;transition:left .2s;position:relative;left:0}.bs-textbox input{transition:.2s all}.bs-textbox:focus-within input,.bs-textbox.occupied input{margin-bottom:5px}.bs-textbox:focus-within::after{left:-50%}.bs-textbox input:focus ~ label,.bs-textbox.occupied input ~ label,.bs-textbox textarea:focus ~ label,.bs-textbox.occupied textarea ~ label{top:6px;font-size:12px;color:grey}.bs-textbox:hover,.bs-button:hover{*box-shadow:0 5px 10px 0 rgba(0,0,0,.25)}.bs-textbox:hover label{color:#AAA}a.bs-button{text-decoration:none;width:auto!important;margin-left:auto;margin-right:auto;display:inline-table}.bs-button,.bs-check{*background:#549eec;font-size:20px;color:#0075f2;*border:0;padding:5px 10px;outline:0;cursor:pointer}.bs-check{-webkit-appearance:none;width:30px;height:30px;vertical-align:middle;position:relative;bottom:2px;margin-right:10px;background:url("/loader2.svg");background-size:0;background-position:center center;background-repeat:no-repeat}.bs-check:checked{background-size:24px}[bs-hang-right]{float:right}</style>
<style>:root{--primary-color:#8a00ff;--secondary-color:#ff9d00;--major-gradient:linear-gradient(90deg,var(--primary-color) 0,var(--secondary-color) 100%);--major-radius:5px;--major-shadow:0 2px 5px 0 rgba(0,0,0,.25);--minor-shadow:0 5px 10px 0 rgba(0,0,0,.25);--foreground-color:black}html{font-family:monospace,sans-serif;font-size:1em;background-color:#EEE}body{margin:0}#nav{text-align:center}#nav a{color:var(--forground-color);text-decoration:none;padding:20px;display:inline-block}#content{width:800px;max-width:calc(100% - 20px);margin-left:auto;margin-right:auto}.bubbles{min-height:200px}.bubble{box-shadow:var(--major-shadow);border-radius:var(--major-radius);background:white;padding:5px;margin:10px;*cursor:pointer;transition:.25s;position:relative;top:0;backface-visibility:hidden;height:35px;overflow:hidden}.bubble-top>label{display:block;color:#555;padding:5px;*margin-right:20px;cursor:s-resize;width:100%}.dropped>.bubble-top>label{cursor:n-resize}.title-edit{font-size:.75em;color:grey;vertical-align:top;margin-left:5px}.bubble-bottom a{display:inline-block;color:var(--primary-color);*color:white;padding:5px;text-decoration:none}.placehodler{font-style:italic;color:grey;margin-left:20px}.botnav{color:var(--forground-color);text-align:center}.botnav a{cursor:pointer}.new-box>.bubble{padding:10px}.new-box label,.new-box input,.new-box textarea{display:block}.new-box label:not(:first-of-type){margin-top:20px}input[type=text],textarea{border:1px solid rgba(0,0,0,.25);box-shadow:var(--major-shadow);font-size:1em;padding:4px;font-family:monospace;border-radius:var(--major-radius);width:100%}.new-box input[type=text]{width:300px;max-width:100%}.new-box textarea{height:300px;min-width:100%;max-width:100%;min-height:120px;margin-bottom:10px}h1{color:var(--forground-color);text-align:center;font-weight:100}#compile-errors{display:block;font-size:.8em;margin-top:5px;margin-bottom:10px;color:grey}.invalid-json{color:var(--secondary-color)!important}.a-button{color:var(--primary-color);cursor:pointer;transition:.25s}.a-button+.a-button{margin-left:10px}.a-button:hover{color:var(--secondary-color)}.disabled{opacity:.25;pointer-events:none}#filter-list label{display:inline-block;margin-right:10px;*cursor:pointer}select{*font-size:.8em;font-size:1em;background:white;box-shadow:var(--major-shadow);margin-bottom:10px}#add-filter{cursor:pointer}input[type=checkbox],input[type=radio]{display:inline-block;-webkit-appearance:none;width:15px;height:15px;border:1px solid rgba(0,0,0,.25);vertical-align:middle;position:relative;top:-1px;background-image:url(/checkx4.svg);background-size:100% auto;background-repeat:no-repeat;background-position-y:15px;transition:.25s}input[type=radio]{border-radius:50%}input[type=checkbox]:checked,input[type=radio]:checked{background-position-y:0}.l2-box{margin-left:27px}.new-box input[type=checkbox]+label,.new-box input[type=radio]+label{display:inline-block;margin-top:0;transition:.25s}#distributor-push:not(:checked) ~ #distributor-queue,#distributor-push:not(:checked)+*+br,#distributor-push:not(:checked) ~ label[for=distributor-queue],#distributor-callback:not(:checked) ~ #distributor-url,#distributor-callback:not(:checked) ~ #distributor-accessor,#distributor-callback:not(:checked)+*+br,#distributor-callback:not(:checked) ~ label[for=distributor-url]{height:0;border-color:transparent;margin-top:0;padding:0;color:transparent;font-size:0;box-shadow:none}.new-box input[type=text]{transition:.25s;height:auto!important}button[onclick]{display:none}h1 a{color:inherit;display:inline-block;font-size:.6em;vertical-align:top;transition:.25s;font-weight:100!important}h1 a:hover{padding-left:5px}h1 a:after{content:'>';display:inline-block;padding-left:5px;position:relative;bottom:-1px;transition:.25s}h1 a:hover:after{padding-left:10px}.bubble pre{border-top:1px solid rgba(0,0,0,.25);margin:-5px;margin-top:2;padding:10px;font-size:1.2em}.subble{box-shadow:var(--major-shadow);*padding:10px;margin:5px;border-radius:var(--major-radius);position:relative}.subble+.subble{margin-top:10px}.dropper{color:grey;position:absolute;top:5px;right:5px;cursor:pointer;font-size:20px;transition:.1s;pointer-events:none}.bubble.dropped,.big-bubble,.max-bubble{height:auto}.number{color:#0d6f9a}.string{color:#4a5842;color:#5618cf}.command{color:#f5b743}.variable{color:#7e4a98}.id{color:#08a0bb}.binary{color:#4b1f5e;color:#221f8e;color:#55fc31;color:#16b30c}.bubble:not(.dropped)>.dropper{transform:rotate(90deg)}.name-id{color:grey;font-size:.75em;position:relative;*top:-2px;float:right;margin-right:20px}#item-id{text-align:center;color:var(--forground-color);font-weight:100}#reference-count{display:block}@media screen and (max-width:700px){.name-id{display:none}}</style>
<script>function grab(a){if("string"===typeof a){var b=[];a.split("|").forEach(function(c){return b.push(document.getElementById(c))});return 1==b.length?b[0]:b}return a}function bind(a,b,c){iterate(grab(a),function(a){a.addEventListener(b,c);bind.bound[a]||(bind.bound[a]=[]);bind.bound[a].push(c)})}bind.bound={};function load(a){iterate(a,function(a){bind(window,"load",a)})}function log(a){grab("log").innerHTML=a}function remc(a,b){iterate(grab(a),function(a){a.classList.remove(b)})}
function addc(a,b){iterate(grab(a),function(a){a.classList.add(b)})}function hasc(a,b){return grab(a).classList.contains(b)}function togc(a,b){var c=grab(a),d=hasc(c,b);d?remc(c,b):addc(c,b);return!d}function togcp(a,b){iterate(grab(a),function(a){hasc(a,b)?remc(a,b):addc(a,b)})}function setc(a,b,c){iterate(grab(a),function(a){c?addc(a,b):remc(a,b)})}function iterate(a,b){Array.isArray(a)?a.forEach(b):b(a)}
function retrieve(a,b){var c=new XMLHttpRequest;c.open("GET",a);bind(c,"load",function(){b(c)});return c}function pang(a,b){var c=new XMLHttpRequest;c.open("GET",imgroot+"pangpacks/frames.pangpack");bind(c,"load",function(){b(c.response.split("|"))});c.send();return c}
if("undefined"==typeof BS){var getRegex=function(a){regex=a.getAttribute("bs-regex");a=regex.lastIndexOf("/");return new RegExp(regex.substring(1,a),regex.substr(a+1))};BS=function(a){a=(a||document).getElementsByClassName("bs-textbox");for(var b=0;b<a.length;b++)(function(a){var b=a.getAttribute("bs-correct"),c=a.getAttribute("bs-incorrect"),g=a.getAttribute("bs-empty");a.children[1].innerHTML=g;a.addEventListener("input",function(){var d=a.children[0],e=a.children[1],h=!1,f=d.value;f.length?a.classList.add("occupied"):
a.classList.remove("occupied");var k=getRegex(a);f.length?k.test(f)?(h=!0,e.innerHTML=b):e.innerHTML=c:e.innerHTML=g;d.setAttribute("bs-valid",h)});a.addEventListener("mousedown",function(){setTimeout(function(){a.children[0].focus()},0)})})(a[b])};BS.check=function(a){return"true"==a.getAttribute("bs-valid")};load(function(){BS()})};
</script>
<script>"undefined"===typeof XMLHttpRequest&&(XMLHttpRequest=require("XMLHttpRequest"));function LiotR(){}LiotR.SERVER="http://localhost:7474";LiotR.SESSION=null;
LiotR.post=function(a,b){var c=new XMLHttpRequest;"function"==typeof b&&(c.addEventListener("load",function(){b(JSON.parse(c.responseText))}),c.addEventListener("error",function(){b({err:"Unable to contact server."})}));LiotR.SESSION&&(a.sessionid=LiotR.SESSION);c.open("POST",LiotR.SERVER);c.setRequestHeader("Content-type","application/json");c.send(JSON.stringify(a));return c};LiotR.addCollectors=function(a,b){a.action="add collectors";return LiotR.post(a,b)};
LiotR.listCollectors=function(a,b){a.action="list collectors";return LiotR.post(a,b)};LiotR.getCollectors=function(a,b){a.action="get collectors";return LiotR.post(a,b)};LiotR.deleteCollectors=function(a,b){a.action="delete collectors";return LiotR.post(a,b)};LiotR.listFilters=function(a,b){a.action="list filters";return LiotR.post(a,b)};LiotR.addFilters=function(a,b){a.action="add filters";return LiotR.post(a,b)};LiotR.getFilters=function(a,b){a.action="get filters";return LiotR.post(a,b)};
LiotR.deleteFilters=function(a,b){a.action="delete filters";return LiotR.post(a,b)};LiotR.countFilterReferences=function(a,b){a.action="count filter references";return LiotR.post(a,b)};LiotR.listFilterReferrers=function(a,b){a.action="list filter referrers";return LiotR.post(a,b)};LiotR.addCollators=function(a,b){a.action="add collators";return LiotR.post(a,b)};LiotR.listCollators=function(a,b){a.action="list collators";return LiotR.post(a,b)};
LiotR.getCollators=function(a,b){a.action="get collators";return LiotR.post(a,b)};LiotR.deleteCollators=function(a,b){a.action="delete collators";return LiotR.post(a,b)};LiotR.countCollatorReferences=function(a,b){a.action="count collator references";return LiotR.post(a,b)};LiotR.addDistributors=function(a,b){a.action="add distributors";return LiotR.post(a,b)};LiotR.listDistributors=function(a,b){a.action="list distributors";return LiotR.post(a,b)};
LiotR.getDistributors=function(a,b){a.action="get distributors";return LiotR.post(a,b)};LiotR.deleteDistributors=function(a,b){a.action="delete distributors";return LiotR.post(a,b)};LiotR.pushUpdate=function(a,b){a.action="push update";return LiotR.post(a,b)};
</script>
<script>var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};function grab(a,b){return"string"===typeof a?(grab(b)||document).getElementById(a):a}function bind(a,b,d){a.addEventListener(b,d)}function load(a){bind(window,"DOMContentLoaded",a)}
function namify(a,b,d){var f=xss(a.name||""),e=xss(a.id);a="<a class='title-edit"+(d?" disabled":"")+"' href=\"/"+b+"s/edit?id="+a.id+'">edit'+(d?"ing":"")+"</a>";return(f.length?f:"<i>Unnamed "+b[0].toUpperCase()+b.substr(1)+"</i>")+a+" <span class='name-id'>["+e+"]</span>"}
function appendCollators(a,b,d){for(var f=0;f<a.length;f++){var e=a[f],c=nelem("div");addc(c,"bubble");var g=nelem("div");addc(g,"bubble-top");c.appendChild(g);var h=nelem("label");h.innerHTML=namify(e,"collator",d==e.id);nelem("label").innerHTML=xss(e.id);for(var k=nelem("label"),m="",n=$jscomp.makeIterator(e.filtrets),l=n.next();!l.done;l=n.next())l=l.value,m+=(l.name||l.id.substring(0,10))+", ";m="("+m.substring(0,m.length-2)+")";k.innerHTML=xss(m);g.appendChild(h);g=$jscomp.makeIterator([]);for(h=
g.next();!h.done;h=g.next())c.appendChild(h.value);b.appendChild(c);appendFilters(e.filtrets,c,d);appendDropper(c);appendSpecifics(c,e.id,"collator")}a.length||appendPlaceholder("collators",b)}function appendPlaceholder(a,b){var d=nelem("div");addc(d,"placehodler");d.innerHTML="No "+a;b.appendChild(d)}
function appendFilters(a,b,d){for(var f=0;f<a.length;f++){var e=a[f],c=nelem("div");addc(c,"bubble");var g=nelem("div");addc(g,"bubble-top");c.appendChild(g);var h=nelem("label");h.innerHTML=namify(e,"filter",d==e.id);nelem("label").innerHTML=xss(e.id);var k=nelem("pre");k.innerHTML=codify(xss(e.code));g.appendChild(h);c.appendChild(k);b.appendChild(c);appendDropper(c);appendSpecifics(c,e.id,"filter")}a.length||appendPlaceholder("filters",b)}
function appendCollectors(a,b,d){for(var f=0;f<a.length;f++){var e=a[f],c=nelem("div");addc(c,"bubble");var g=nelem("div");addc(g,"bubble-top");c.appendChild(g);var h=nelem("label");h.innerHTML=namify(e,"collector",d==e.id);nelem("label").innerHTML=xss(e.id);var k=nelem("pre");k.innerHTML=valify(xss(JSON.stringify(e,null,3)));g.appendChild(h);c.appendChild(k);b.appendChild(c);appendDropper(c);appendSpecifics(c,e.id,"collector")}a.length||appendPlaceholder("collectors",b)}
function appendSpecifics(a,b,d){}function stringValue(a){switch(typeof a){case "object":a=JSON.stringify(a);case "string":if(30>a.length)0==a.length&&(a="NO VALUE");else return a.substring(0,27)+"...";break;case "number":return a+""}return a}
function codify(a){return a=a.replace(/([:,]) ([0-9]+)(,|\n| \])/g,"$1 %%n%%$2%%n%%$3").replace(/"(\$.+?)"/g,"%%v%%$1%%v%%").replace(/^(\s+)"([A-Z]+)"/gm,"$1%%c%%$2%%c%%").replace(/"([^$].+?)"/g,"%%s%%$1%%s%%").replace(/%%n%%(.+?)%%n%%/g,'<span class="number">$1</span>').replace(/%%s%%(.+?)%%s%%/g,'<span class="string">$1</span>').replace(/%%c%%(.+?)%%c%%/g,'<span class="command">$1</span>').replace(/%%v%%(.+?)%%v%%/g,'<span class="variable">$1</span>')}
function valify(a){return a=a.replace(/([:,]) ([0-9]+)(,|\n| \])/g,"$1 %%n%%$2%%n%%$3").replace(/"(\$.+?)"/g,"%%v%%$1%%v%%").replace(/^(\s+)"([A-Z]+)"/gm,"$1%%c%%$2%%c%%").replace(/"([^$].+?)"/g,"%%s%%$1%%s%%").replace(/%%n%%(.+?)%%n%%/g,'<span class="number">$1</span>').replace(/%%s%%([a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12})%%s%%/g,'<span class="id">$1</span>').replace(/%%s%%(.+?)%%s%%/g,'<span class="string">$1</span>').replace(/%%c%%(.+?)%%c%%/g,'<span class="command">$1</span>').replace(/%%v%%(.+?)%%v%%/g,
'<span class="variable">$1</span>').replace(/([:,]) (true|false)(,|\n| \])/g,'$1 <span class="binary">$2$3</span>')}function appendDropper(a){var b=nelem("div");b.innerHTML="V";addc(b,"dropper");bind(a.children[0],"click",function(b){togc(a,"dropped");return!1});a.appendChild(b)}function bindBubble(a,b){bind(a,"click",function(){location.href="/filters/edit?id="+b.id})}function getPageId(){var a=location.href.match(/\?id=(.+)$/);return a?a[1]:null};
</script>

    <script>
      var collatorList;
      var reg = location.href.match(/after=(-?[0-9]+)/);
      var after = reg ? reg[1]*1 : 0;
      load(()=>{
        collatorList = grab('collator-list');
        LiotR.listCollators({after: after, count: 30},res => {
          if(res.err) {
            alert(res.err);
          } else {
            console.log(res.collators);
            appendCollators(res.collators, collatorList);
          }
        })
      })
      function populate() {
        var collators = [];
        for(var i = 0; i < 100; i ++)
          collators.push({name:'OUTTHERM_'+i,
            device_info:
             { manufacture_date: 'UNKNOWN',
               manufacturer: 'AcuRite',
               model: 'UNKNOWN',
               series: 'UNKNOWN'
             }
           });
        LiotR.addCollators({collators: collators}, res => {
          console.log(res.err || res)
        })
      }
      function gotoStart() {
        location.href = "/collators?after=0";
      }
      function gotoPrevious() {
        location.href = "/collators?after=" + Math.max(0,after-30);
      }
      function gotoNext() {
        location.href = "/collators?after=" + Math.max(0,after+30);
      }
      function gotoLast() {
        location.href = "/collators?after=-30";
      }
      function xss(text) { return text.replace('<', '&lt') }
      function nelem(type) { return document.createElement(type) }
    </script>
  </head>
  <body>
    <div id="content">
      <div id="nav">
  <a href=/collectors>
    <span>Collectors</span>
  </a><a href=/filters>
    <span>Filters</span>
  </a><!--<a href=/mutators>
    <span>Mutators</span>
  </a>--><a href=/collators>
    <span>Collators</span>
  </a><a href=/distributors>
    <span>Distributors</span>
  </a>
</div>

      <h1>Collators <a href="new">New</a></h1>
      <div class="bubbles" id="collator-list">
      </div>
      <div class="botnav">
        <a onclick="gotoStart()">&lt;&lt;</a>
        <a onclick="gotoPrevious()">&lt;</a>
        <a onclick="gotoNext()">&gt;</a>
        <a onclick="gotoLast()">&gt;&gt;</a>
        <button onclick="populate()">Populate</button>
      </div>
    </div>
  </body>
</html>
